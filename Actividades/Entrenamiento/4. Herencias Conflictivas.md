# Herencias Conflictivas

El concesionario ha decidido expandir su repertorio con coches eléctricos, por lo que hemos decidido añadir las siguientes clases:

```cs
    /// <summary>
    /// Coche completamente eléctrico
    /// </summary>
    public class ElectricCar : Car {

        /// <summary>
        /// Porcentaje de batería entre 0 y 1
        /// </summary>
        public decimal batteryLevel;

        /// <summary>
        /// Velocidad de carga en % de batería por hora
        /// </summary>
        public decimal chargeSpeed = 0.125m;

        public ElectricCar(string model, string paint, string? plateNum = null, float km = 0) : base(model, paint, plateNum, km) {
        }
    }

    /// <summary>
    /// Coche tradicional con motor de combustión
    /// </summary>
    public class CombustionCar : Car {

        /// <summary>
        /// Litros de combustible en el depósito
        /// </summary>
        public float fuelInTank;

        /// <summary>
        /// Capacidad máxima del depósito
        /// </summary>
        public readonly float maxFuelInTank=50;

        public CombustionCar(string model, string paint, string? plateNum = null, float km = 0) : base(model, paint, plateNum, km) {
        }
    }
```

## Y los Híbridos?

Pues tenemos un problema. Podríamos decir que son tanto **CombustionCar** como **ElectricCar**, pero C# no nos permite hacerlo. Cada clase **solo puede tener un padre**.

O es hijo de uno o del otro, pero nunca ambos. Qué hacemos? Los dejamos así, como un tercer tipo de **Car**?

```cs
    public class HybridCar : Car {

        /// <summary>
        /// Litros de combustible en el depósito
        /// </summary>
        public float fuelInTank;

        /// <summary>
        /// Capacidad máxima del depósito
        /// </summary>
        public readonly float maxFuelInTank=50;

        /// <summary>
        /// Porcentaje de batería entre 0 y 1
        /// </summary>
        public decimal batteryLevel;

        /// <summary>
        /// Velocidad de carga en % de batería por hora
        /// </summary>
        public decimal chargeSpeed = 0.125m;

        public HybridCar(string model, string paint, string? plateNum = null, float km = 0) : base(model, paint, plateNum, km) {
        }
    }
```

Mal, mal esto no está, pero es un tanto redundante, no? De momento lo dejamos así y ya veremos luego lo que hacemos.

## Implementar repostaje

Queremos hacer que nuestros vehículos puedan repostar, pero necesitamos formas distintas de hacerlo según el tipo. Implementa las siguientes funciones en los tipos de coche correspondientes.

```cs
    /// <summary>
    /// Pone a cargar la batería del coche durante cierto tiempo
    /// </summary>
    /// <param name="time">tiempo que pasa cargando en horas</param>
    /// <returns>Si ha acabado de cargarse</returns>
    public bool Recharge(float time){
        //Implementadlo
    }
```
```cs
    /// <summary>
    /// Rellena el depósito con litros de combustible
    /// </summary>
    /// <param name="liters">Litros a rellenar</param>
    /// <returns>Litros sobrantes en el depósito. Negativo si sobra combustible.</returns>
    public float Refuel(float liters){
        //Implementadlo
    }
```

